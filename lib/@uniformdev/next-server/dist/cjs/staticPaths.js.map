{"version":3,"file":"staticPaths.js","sourceRoot":"","sources":["../../src/staticPaths.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,2DAAwE;AAc3D,QAAA,cAAc,GAAG,UAAO,OAAiB;;;;;sBACxC,OAAO,aAAP,OAAO;gBAAP,KAAA,OAAO,CAAA;;oBAAK,qBAAM,6BAAa,CAAC,4BAAY,CAAC,EAAA;;gBAAlC,KAAA,CAAC,SAAiC,CAAC,CAAA;;;gBAAxD,OAAO,KAAiD,CAAC;gBACzD,sBAAO,OAAO;wBACV,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,CACpB,UAAC,IAAI;4BACD,OAAA,IAAI,KAAK,EAAE;gCACP,CAAC,CAAC,EAAE,MAAM,EAAE,EAAE,EAAE;gCAChB,CAAC,CAAC;oCACI,MAAM,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE;iCACpD;wBAJP,CAIO,CACd;wBACH,CAAC,CAAC,EAAE,EAAC;;;KACZ,CAAC","sourcesContent":["import { exportPathMap, serverLogger } from '@uniformdev/common-server';\r\n\r\nexport interface StaticExportPath {\r\n    params: {\r\n        slug?: string[];\r\n    };\r\n}\r\n\r\nexport interface PathMap {\r\n    [route: string]: {\r\n        page: string;\r\n    };\r\n}\r\n\r\nexport const getStaticPaths = async (pathMap?: PathMap): Promise<StaticExportPath[]> => {\r\n    pathMap = pathMap ?? (await exportPathMap(serverLogger));\r\n    return pathMap\r\n        ? Object.keys(pathMap).map(\r\n              (path): StaticExportPath =>\r\n                  path === ''\r\n                      ? { params: {} }\r\n                      : {\r\n                            params: { slug: path.split('/').filter(Boolean) },\r\n                        }\r\n          )\r\n        : [];\r\n};\r\n"]}