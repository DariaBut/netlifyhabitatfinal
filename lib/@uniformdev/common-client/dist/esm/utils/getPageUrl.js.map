{"version":3,"file":"getPageUrl.js","sourceRoot":"","sources":["../../../src/utils/getPageUrl.ts"],"names":[],"mappings":"AAAA,OAAO,EAAiB,IAAI,EAAE,kBAAkB,EAAE,MAAM,EAAE,MAAM,oBAAoB,CAAC;AAErF,MAAM,UAAU,UAAU,CAAC,QAAgB,EAAE,IAAY,EAAE,MAAqB;IAC5E,IAAM,QAAQ,GAAG,MAAM,CAAC,oBAAoB,CAAC;IAE7C,IAAI,IAAI,GAAG,IAAI,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;IAC/B,IAAI,CAAC,IAAI,EAAE;QACP,IAAI,GAAG,EAAE,CAAC;KACb;IAED,IAAI,GAAG,GAAG,uBAAuB,GAAG,QAAQ,GAAG,GAAG,CAAC;IACnD,IAAI,IAAI,EAAE;QACN,GAAG,IAAI,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC;KAC5B;SAAM;QACH,GAAG,IAAI,IAAI,CAAC;KACf;IAED,IAAI,eAAe,GAAG,MAAM,CAAC,OAAO,CAAC,GAAG,EAAE,mBAAmB,EAAE,SAAS,CAAC,CAAC;IAC1E,OAAO,kBAAkB,CAAC,MAAM,EAAE,GAAG,EAAE,eAAe,CAAC,CAAC;AAC5D,CAAC","sourcesContent":["import { UniformConfig, trim, getApiUrlWithToken, getEnv } from '@uniformdev/common';\r\n\r\nexport function getPageUrl(itemPath: string, type: string, config: UniformConfig): string {\r\n    const sitename = config.UNIFORM_API_SITENAME;\r\n\r\n    let path = trim(itemPath, '/');\r\n    if (!path) {\r\n        path = '';\r\n    }\r\n\r\n    let url = '/uniform/api/content/' + sitename + '/';\r\n    if (path) {\r\n        url += type + '/' + path;\r\n    } else {\r\n        url += type;\r\n    }\r\n\r\n    var uniformApiToken = getEnv(process.env, 'UNIFORM_API_TOKEN', undefined);\r\n    return getApiUrlWithToken(config, url, uniformApiToken);\r\n}\r\n"]}