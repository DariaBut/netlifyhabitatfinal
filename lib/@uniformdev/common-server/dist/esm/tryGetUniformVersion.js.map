{"version":3,"file":"tryGetUniformVersion.js","sourceRoot":"","sources":["../../src/tryGetUniformVersion.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,YAAY,EAAE,UAAU,EAAE,MAAM,IAAI,CAAC;AAI9C,MAAM,UAAU,oBAAoB,CAAC,MAAc;IAC/C,IAAM,eAAe,GAAG,gDAAgD,CAAC;IACzE,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,EAAE;QAC9B,OAAO,IAAI,CAAC;KACf;IAED,IAAI;QACA,OAAO,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,OAAO,CAAC;KACvE;IAAC,OAAO,EAAE,EAAE;QACT,MAAM,CAAC,KAAK,CAAC,8BAA8B,GAAG,eAAe,CAAC,CAAC;QAE/D,MAAM,EAAE,CAAC;KACZ;AACL,CAAC","sourcesContent":["import { readFileSync, existsSync } from 'fs';\r\n\r\nimport { Logger } from '@uniformdev/common';\r\n\r\nexport function tryGetUniformVersion(logger: Logger): string | null {\r\n    const packageFilePath = './node_modules/@uniformdev/common/package.json';\r\n    if (!existsSync(packageFilePath)) {\r\n        return null;\r\n    }\r\n\r\n    try {\r\n        return JSON.parse(readFileSync(packageFilePath).toString()).version;\r\n    } catch (ex) {\r\n        logger.error('Failed to read version from ' + packageFilePath);\r\n\r\n        throw ex;\r\n    }\r\n}\r\n"]}