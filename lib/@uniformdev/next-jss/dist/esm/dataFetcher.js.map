{"version":3,"file":"dataFetcher.js","sourceRoot":"","sources":["../../src/dataFetcher.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,2GAA2G;AAE3G,MAAM,UAAgB,WAAW,CAAC,GAAW,EAAE,IAAU;;;;;;oBACrD,IAAI,IAAI,EAAE;wBACN,sBAAO,KAAK,CAAC,GAAG,EAAE;gCACd,MAAM,EAAE,MAAM;gCACd,OAAO,EAAE;oCACL,cAAc,EAAE,kBAAkB;iCACrC;gCACD,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;6BAC7B,CAAC,EAAC;qBACN;oBACW,qBAAM,KAAK,CAAC,GAAG,CAAC,EAAA;;oBAAtB,GAAG,GAAG,SAAgB;;wBAExB,MAAM,EAAE,GAAG,CAAC,MAAM;wBAClB,UAAU,EAAE,GAAG,CAAC,UAAU;;oBACpB,qBAAM,GAAG,CAAC,IAAI,EAAE,EAAA;wBAH1B,uBAGI,OAAI,GAAE,SAAgB;6BACxB;;;;CACL","sourcesContent":["import { HttpResponse } from '@sitecore-jss/sitecore-jss';\r\n\r\n// nextjs v9.4+ applies `fetch` polyfill (https://nextjs.org/blog/next-9-4#improved-built-in-fetch-support)\r\n\r\nexport async function dataFetcher(url: string, data?: any): Promise<HttpResponse<any>> {\r\n    if (data) {\r\n        return fetch(url, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify(data),\r\n        });\r\n    }\r\n    const res = await fetch(url);\r\n    return {\r\n        status: res.status,\r\n        statusText: res.statusText,\r\n        data: await res.json(),\r\n    };\r\n}\r\n"]}