{"version":3,"file":"createPublishProvider.js","sourceRoot":"","sources":["../../src/createPublishProvider.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,oBAAoB,CAAC;AAE5C,OAAO,EAAE,oBAAoB,EAAE,MAAM,yCAAyC,CAAC;AAC/E,OAAO,EAAmB,mBAAmB,EAAE,qBAAqB,EAAE,MAAM,2BAA2B,CAAC;AAExG,MAAM,UAAU,qBAAqB,CAAC,OAA+B;IACzD,IAAA,MAAM,GAAK,OAAO,OAAZ,CAAa;IAC3B,IAAM,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE,wBAAwB,CAAC,CAAC;IAE9D,QAAQ,QAAQ,CAAC,WAAW,EAAE,EAAE;QAC5B,KAAK,MAAM,CAAC;QACZ,KAAK,MAAM;YACP,OAAO,IAAI,mBAAmB,CAAC,OAAO,CAAC,CAAC;QAC5C,KAAK,QAAQ;YACT,OAAO,IAAI,qBAAqB,CAAC,OAAO,CAAC,CAAC;QAC9C,KAAK,WAAW;YACZ,OAAO,IAAI,oBAAoB,CAAC,OAAO,CAAC,CAAC;KAChD;IAED,MAAM,IAAI,KAAK,CAAC,qCAAqC,GAAG,QAAQ,CAAC,CAAC;AACtE,CAAC","sourcesContent":["import { getEnv } from '@uniformdev/common';\r\nimport { PublishProviderOptions } from '@uniformdev/common-server';\r\nimport { AzurePublishProvider } from '@uniformdev/publishing-azureblobstorage';\r\nimport { PublishProvider, FakePublishProvider, CustomPublishProvider } from '@uniformdev/common-server';\r\n\r\nexport function createPublishProvider(options: PublishProviderOptions): PublishProvider {\r\n    const { config } = options;\r\n    const provider = getEnv(config.env, 'UNIFORM_PUBLISH_TARGET');\r\n\r\n    switch (provider.toLowerCase()) {\r\n        case 'none':\r\n        case 'fake':\r\n            return new FakePublishProvider(options);\r\n        case 'custom':\r\n            return new CustomPublishProvider(options);\r\n        case 'azureblob':\r\n            return new AzurePublishProvider(options);\r\n    }\r\n\r\n    throw new Error('Publish provider is not supported: ' + provider);\r\n}\r\n"]}